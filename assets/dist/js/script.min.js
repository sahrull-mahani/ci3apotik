function play(){new Audio("assets/audio/done.mp3").play()}function makeTimer(t=$("#nowTimeCount").data("timer")){var a=new Date(t+" GMT+08:00"),a=Date.parse(a)/1e3,e=new Date,n=a-(e=Date.parse(e)/1e3),t=Math.floor(n/86400),a=Math.floor((n-86400*t)/3600),e=Math.floor((n-86400*t-3600*a)/60),n=Math.floor(n-86400*t-3600*a-60*e);a<"10"&&(a="0"+a),e<"10"&&(e="0"+e),n<"10"&&(n="0"+n),$("#days").html(t+"<span> hari</span>"),$("#hours").html(a+"<span> jam</span>"),$("#minutes").html(e+"<span> menit</span>"),$("#seconds").html(n+"<span> detik</span>"),a<="00"&&e<="00"&&n<="60"&&($("#days").addClass("text-danger"),$("#hours").addClass("text-danger"),$("#minutes").addClass("text-danger"),$("#seconds").addClass("text-danger")),a<="00"&&e<="00"&&n<="00"&&($("#timer").html("Time to logout!!"),window.location.href=location.origin+"/home/logout")}function formatRupiah(t,a){var e=t.replace(/[^,\d]/g,"").toString().split(","),n=e[0].length%3,o=e[0].substr(0,n),t=e[0].substr(n).match(/\d{3}/gi);return t&&(separator=n?".":"",o+=separator+t.join(".")),o=null!=e[1]?o+","+e[1]:o,null==a?o:o?"Rp. "+o:""}setInterval(function(){makeTimer()},1e3),$(document).ready(function(){$(".preloader").fadeTo(500,0).slideUp(500,function(){$(this).remove()}),$("img.wait-preloader").switchClass("d-block","d-none"),setTimeout(function(){$(".wait-preloader").next().removeClass("d-none")},700),$("#timer").on("click",function(t){t.preventDefault(),Swal.fire({title:"Pertanyaan",text:"Apakah anda ingin menambah sesi anda selama 2 hari?",type:"info",showCancelButton:!0,confirmButtonColor:"#1e377f",cancelButtonColor:"#b4bbc4",confirmButtonText:"Tambahkan!"}).then(t=>{t.value&&$.ajax({type:"post",url:location.origin+"/home/tambahwaktulogin",success:function(t){toastr.success("Sesi anda bertambah 2 hari"),$("#nowTimeCount").data("timer",t)},error:function(t){toastr.error(t)}})})}),$("#divOutside").click(function(){$(".emojionearea-button").click()});var a=location.href;$("a").on("click",function(t){$(this).attr("href")==a&&(t.preventDefault(),toastr.error("Anda masih dihalaman yang sama!"))}),$("#inputGroupFile02").on("change",function(){var t=$(this).val().split("\\").pop();$(this).next(".custom-file-label").addClass("selected").html(t)}),$("select[name=alatSelect]").select2({theme:"bootstrap4",placeholder:"Pilih Alat"}),$("#customerSelect").select2({theme:"bootstrap4",placeholder:"Pilih Customer"}),$("#jumlah").prop("min",0),$('[data-toggle="tooltip"]').tooltip(),$("label[for=showPass]").click(function(){$("input[type=checkbox]").is(":checked")?($("input.ShowPass").attr("type","password"),$(".fa-lock-open").removeClass("fa-lock-open").addClass("fa-lock")):($("input.ShowPass").attr("type","text"),$(".fa-lock").removeClass("fa-lock").addClass("fa-lock-open"))}),$("input[name=harga]").autoNumeric("init"),$(".tanggal").flatpickr({dateFormat:"d/m/Y",minDate:"today"});var t=$(".pesan").data("pesan"),e=$(".pesanInfo").data("pesan"),n=$(".warning").data("pesan"),o=$(".gagal").data("pesan"),i=$(".pesanToast").data("pesan");t?Swal.fire({title:"Success",text:t,type:"success"}):i?toastr.success(i):e?Swal.fire({title:"Informasi",html:e,type:"info",showCancelButton:!0,confirmButtonText:"OK!",cancelButtonText:"Kembali!"}).then(t=>{t.value&&(document.location.href="/produk")}):o?Swal.fire({title:"Gagal",html:o,type:"error"}):n&&Swal.fire({title:"Warning",html:n,type:"warning"}),$(".hapus").on("click",function(t){t.preventDefault();var a=$(this).attr("href");Swal.fire({title:"Anda yakin?",text:"Data akan dihapus secara permanen dari database!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yakin!"}).then(t=>{t.value&&(document.location.href=a)})}),$(".resetpass").on("click",function(t){t.preventDefault();var a=$(this).attr("href");Swal.fire({title:"Anda yakin?",html:"Password akan di set menjadi <b>qwerty12345</b>!",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ubah!"}).then(t=>{t.value&&(document.location.href=a)})}),$(".keluar").on("click",function(t){t.preventDefault();var a=$(this).attr("href");Swal.fire({title:"Anda yakin?",text:"Anda akan Logout",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yakin!"}).then(t=>{t.value&&(document.location.href=a)})}),$("#example1").DataTable({lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],rowReorder:{selector:"td:nth-child(3)"},responsive:!0,language:{infoEmpty:"Data Kosong",zeroRecords:"Maaf - Data Tidak Ditemukan",searchPlaceholder:"Cari Data..."}}),$("#blinkk").fadeOut("slow").fadeIn(1e3),setTimeout(function(){$(".alertTimeOut").fadeTo(500,0).slideUp(500,function(){$(this).remove()})},5e3),$("#alatSelect").change(function(){var t=location.origin+"/distribusi/jumlahStok";let a=$(this).val();var e="alat="+a.split("|",1);$.ajax({type:"POST",url:t,data:e,success:function(t){t=t.split("|");$("#stok").val(t[0]),$("#harga").html(formatRupiah(t[1],"Rp. "))}})}),$("#disc").keyup(function(){/\D/g.test(this.value)&&(this.value=this.value.replace(/\D/g,"")),$(this).val()>Math.max(100)&&$(this).val(100)}),$("#jumlah").keyup(function(){var t=$("#stok").val();/\D/g.test(this.value)&&(this.value=this.value.replace(/\D/g,"")),$(this).val()>Math.max(t)&&(Swal.fire({title:"Gagal",text:"Jumlah yang dimasukan melebihi stok!",type:"error"}),$(this).val(""))}),$("#simpan").click(function(){var t=$("#customerSelect").val();""===t?Swal.fire({title:"Pesan!",text:"Pastikan Anda sudah memillih customer yang ingin di tuju!",type:"warning"}):$.ajax({type:"POST",url:"simpan",data:"customer="+t,success:function(t){"berhasil"===t?Swal.fire({title:"Success",text:"Data Berhasil Disimpan",type:"success"}).then(t=>{t.value&&(window.location.href="/distribusi")}):Swal.fire({title:"Gagal",text:"Data Gagal Disimpan!!",type:"error"})}})}),$("#update").click(function(){var a=location.origin+"/distribusi/simpanEdit",t=$("#customerSelect").val();$.ajax({type:"POST",url:a,data:"customer="+t,success:function(t){"berhasil"===t?Swal.fire({title:"Success",text:"Data Berhasil Disimpan",type:"success"}).then(t=>{t.value&&(window.location.href=a)}):Swal.fire({title:"Gagal",text:"Data Gagal Disimpan!!",type:"error"})}})})});